# æµ‹è¯•æ¨èç³»ç»Ÿ

## ğŸ“‹ æµ‹è¯•æ¸…å•

### 1. åç«¯APIæµ‹è¯•

#### 1.1 æ¨èAPIæµ‹è¯•
```bash
# è·å–ç”¨æˆ·æ¨è
curl -X GET "http://localhost:8000/api/v1/recommendations/1?limit=20&algorithm=hybrid" \
  -H "Authorization: Bearer YOUR_TOKEN"

# è·å–çƒ­é—¨æ¨è
curl -X GET "http://localhost:8000/api/v1/recommendations/popular?limit=20" \
  -H "Authorization: Bearer YOUR_TOKEN"

# è·å–ç›¸ä¼¼å†…å®¹
curl -X GET "http://localhost:8000/api/v1/recommendations/1/similar/media123?limit=10" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### 1.2 åª’ä½“è¯†åˆ«APIæµ‹è¯•
```bash
# è¯†åˆ«å•ä¸ªæ–‡ä»¶
curl -X POST "http://localhost:8000/api/v1/media-identification/identify" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"file_path": "The.Matrix.1999.1080p.BluRay.x264.mkv"}'

# æ‰¹é‡è¯†åˆ«
curl -X POST "http://localhost:8000/api/v1/media-identification/identify/batch" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '["file1.mkv", "file2.mkv"]'
```

### 2. å‰ç«¯åŠŸèƒ½æµ‹è¯•

#### 2.1 æ¨èé¡µé¢æµ‹è¯•
1. æ‰“å¼€ `/recommendations` é¡µé¢
2. æ£€æŸ¥æ¨èåˆ—è¡¨æ˜¯å¦æ­£å¸¸åŠ è½½
3. æµ‹è¯•æ¨èç®—æ³•åˆ‡æ¢
4. æµ‹è¯•æ¨èè®¾ç½®
5. æµ‹è¯•ç›¸ä¼¼å†…å®¹æ¨è
6. æµ‹è¯•æ·»åŠ åˆ°è®¢é˜…åŠŸèƒ½

#### 2.2 åª’ä½“è¯†åˆ«é¡µé¢æµ‹è¯•
1. æ‰“å¼€ `/media-identification` é¡µé¢
2. é€‰æ‹©åª’ä½“æ–‡ä»¶
3. æµ‹è¯•è¯†åˆ«åŠŸèƒ½
4. æŸ¥çœ‹è¯†åˆ«ç»“æœ
5. æµ‹è¯•æ‰¹é‡è¯†åˆ«

### 3. é€‚é…å™¨ç³»ç»Ÿæµ‹è¯•

#### 3.1 æ¨èå¼•æ“æµ‹è¯•
```python
from app.core.legacy_wrapper import RecommendationWrapper
import asyncio

async def test():
    wrapper = RecommendationWrapper()
    recommendations = await wrapper.get_recommendations(user_id=1, limit=10)
    print(f"æ¨èç»“æœ: {recommendations}")

asyncio.run(test())
```

#### 3.2 åª’ä½“è§£æå™¨æµ‹è¯•
```python
from app.core.legacy_wrapper import MediaParserWrapper

wrapper = MediaParserWrapper()
result = wrapper.parse_filename("The.Matrix.1999.1080p.BluRay.x264.mkv")
print(f"è§£æç»“æœ: {result}")
```

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. æ¨èå¼•æ“
- âœ… æ¨èå¼•æ“å¯ä»¥æ­£å¸¸åŠ è½½
- âš ï¸ `update_recommendations` æ˜¯åŒæ­¥æ–¹æ³•ï¼Œéœ€è¦æ­£ç¡®å¤„ç†
- âš ï¸ è¿”å›å€¼æ ¼å¼éœ€è¦ç»Ÿä¸€

### 2. åª’ä½“è¯†åˆ«
- âš ï¸ åª’ä½“è¯†åˆ«æœåŠ¡éœ€è¦å¼‚æ­¥äº‹ä»¶å¾ªç¯
- âš ï¸ éœ€è¦å¤„ç†æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

### 3. é€‚é…å™¨ç³»ç»Ÿ
- âœ… æ¨èå¼•æ“é€‚é…å™¨å·¥ä½œæ­£å¸¸
- âš ï¸ æŸäº›åŠŸèƒ½éœ€è¦é¢å¤–çš„ä¾èµ–åŒ…
- âš ï¸ æŸäº›æ¨¡å—æœ‰å…¼å®¹æ€§é—®é¢˜

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### 1. æ¨èå¼•æ“åŒ…è£…å™¨
- âœ… ä¿®å¤åŒæ­¥æ–¹æ³•è°ƒç”¨
- âœ… ç»Ÿä¸€è¿”å›å€¼æ ¼å¼
- âœ… æ·»åŠ é”™è¯¯å¤„ç†

### 2. æ¨èæœåŠ¡
- âœ… ä¿®å¤çƒ­é—¨æ¨èæ–¹æ³•
- âœ… æ·»åŠ é™çº§æ–¹æ¡ˆ
- âœ… å®Œå–„é”™è¯¯å¤„ç†

### 3. APIç«¯ç‚¹
- âœ… åˆ›å»ºæ¨èAPIç«¯ç‚¹
- âœ… åˆ›å»ºåª’ä½“è¯†åˆ«APIç«¯ç‚¹
- âœ… æ·»åŠ é”™è¯¯å¤„ç†

## âœ… æµ‹è¯•ç»“æœ

### æ¨èç³»ç»Ÿ
- [ ] æ¨èåˆ—è¡¨æ­£å¸¸åŠ è½½
- [ ] æ¨èç®—æ³•åˆ‡æ¢æ­£å¸¸
- [ ] æ¨èè®¾ç½®ä¿å­˜æ­£å¸¸
- [ ] ç›¸ä¼¼å†…å®¹æ¨èæ­£å¸¸
- [ ] çƒ­é—¨æ¨èæ­£å¸¸

### åª’ä½“è¯†åˆ«
- [ ] æ–‡ä»¶è¯†åˆ«æ­£å¸¸
- [ ] æ‰¹é‡è¯†åˆ«æ­£å¸¸
- [ ] è¯†åˆ«ç»“æœå±•ç¤ºæ­£å¸¸
- [ ] é‡æ–°è¯†åˆ«æ­£å¸¸

### é€‚é…å™¨ç³»ç»Ÿ
- [ ] æ¨èå¼•æ“è°ƒç”¨æ­£å¸¸
- [ ] åª’ä½“è§£æå™¨è°ƒç”¨æ­£å¸¸
- [ ] é”™è¯¯å¤„ç†æ­£å¸¸

---

**æ›´æ–°æ—¶é—´**: 2025-01-08
**æµ‹è¯•çŠ¶æ€**: å¾…æµ‹è¯•

