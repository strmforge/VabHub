# å¯¹æ ‡ç‰ˆæœ¬æ–‡ä»¶å¤¹åˆ†æ

**åˆ†ææ—¶é—´**: 2025-01-XX  
**æ–‡ä»¶å¤¹è·¯å¾„**: `F:\å¯¹æ ‡ç‰ˆæœ¬`

---

## ğŸ“‹ ä¸€ã€æ–‡ä»¶å¤¹ç»“æ„æ¦‚è§ˆ

### 1.1 ä¸»è¦ç›®å½•

```
F:\å¯¹æ ‡ç‰ˆæœ¬\
â”œâ”€â”€ charts-collector-v1/          # å›¾è¡¨æ”¶é›†å™¨ v1
â”œâ”€â”€ charts-suite-v1/              # å›¾è¡¨å¥—ä»¶ v1
â”œâ”€â”€ charts-suite-v2/              # å›¾è¡¨å¥—ä»¶ v2 â­
â”œâ”€â”€ media-renamer/                # åª’ä½“é‡å‘½åå·¥å…· â­
â”œâ”€â”€ media-sort-pro-v5.6.8/        # åª’ä½“æ’åºä¸“ä¸šç‰ˆ
â”œâ”€â”€ mediamaster-v2-2.5.8/         # åª’ä½“å¤§å¸ˆ v2
â”œâ”€â”€ MoviePilot/                   # MoviePiloté¡¹ç›® â­
â”œâ”€â”€ nas-tools-3.2.2/              # NASå·¥å…· v3.2.2
â”œâ”€â”€ nas-tools-3.2.3/              # NASå·¥å…· v3.2.3
â”œâ”€â”€ nas-tools-master/             # NASå·¥å…·ä¸»åˆ†æ”¯
â”œâ”€â”€ Nastools-2.9.1/               # NASå·¥å…· v2.9.1
â”œâ”€â”€ æ–°å»ºæ–‡ä»¶å¤¹/                    # æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆåŒ…å«VabHubç›¸å…³åŒ…ï¼‰
â””â”€â”€ å„ç§zipæ–‡ä»¶                    # å‹ç¼©åŒ…æ–‡ä»¶
```

---

## ğŸ“‹ äºŒã€é‡ç‚¹é¡¹ç›®åˆ†æ

### âœ… 2.1 charts-suite-v2ï¼ˆå›¾è¡¨å¥—ä»¶ v2ï¼‰

**è·¯å¾„**: `F:\å¯¹æ ‡ç‰ˆæœ¬\charts-suite-v2\`

**ç»“æ„**:
```
charts-suite-v2/
â”œâ”€â”€ bridges/                      # æ¡¥æ¥å™¨
â”‚   â”œâ”€â”€ bridge_apply_yaml.py
â”‚   â””â”€â”€ bridge_emit_yaml.py
â”œâ”€â”€ charts_collector/             # å›¾è¡¨æ”¶é›†å™¨
â”‚   â”œâ”€â”€ providers/                # æ•°æ®æä¾›è€…
â”‚   â”‚   â”œâ”€â”€ apple_music.py       # Apple Music
â”‚   â”‚   â”œâ”€â”€ imdb_datasets.py     # IMDbæ•°æ®é›†
â”‚   â”‚   â”œâ”€â”€ netflix_top10.py     # Netflix Top 10
â”‚   â”‚   â””â”€â”€ spotify_charts.py    # Spotifyå›¾è¡¨
â”‚   â”œâ”€â”€ runner.py
â”‚   â”œâ”€â”€ schema.py
â”‚   â””â”€â”€ utils.py
â”œâ”€â”€ charts_integrator/            # å›¾è¡¨é›†æˆå™¨
â”‚   â”œâ”€â”€ integrate.py
â”‚   â”œâ”€â”€ integration.yaml
â”‚   â””â”€â”€ lib/                      # åº“æ–‡ä»¶
â”‚       â”œâ”€â”€ naming.py
â”‚       â”œâ”€â”€ qb.py
â”‚       â””â”€â”€ torznab.py
â”œâ”€â”€ config.yaml                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ n8n/                          # n8nå·¥ä½œæµ
â”œâ”€â”€ prowlarr_build_torznab_list.py
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ scripts/                      # è„šæœ¬
â””â”€â”€ systemd/                      # systemdæœåŠ¡æ–‡ä»¶
```

**åŠŸèƒ½**:
- âœ… Apple Musicå›¾è¡¨æ”¶é›†
- âœ… Spotifyå›¾è¡¨æ”¶é›†
- âœ… Netflix Top 10æ”¶é›†
- âœ… IMDbæ•°æ®é›†æ”¶é›†
- âœ… å›¾è¡¨é›†æˆåˆ°Prowlarr/Torznab

**é…ç½®æ–‡ä»¶** (`config.yaml`):
```yaml
outputs:
  raw_dir: "/vol1/charts/raw"
  normalized_dir: "/vol1/charts/normalized"

apple_music:
  enabled: true
  country: "us"
  limit: 100

spotify:
  enabled: true
  region: "global"
  chart_kind: "daily"

netflix:
  enabled: true
  all_weeks_url: "https://www.netflix.com/tudum/top10/data/all-weeks-global.xlsx"

imdb:
  enabled: true
  ratings_url: "https://datasets.imdbws.com/title.ratings.tsv.gz"
  basics_url: "https://datasets.imdbws.com/title.basics.tsv.gz"
```

---

### âœ… 2.2 media-renamerï¼ˆåª’ä½“é‡å‘½åå·¥å…·ï¼‰

**è·¯å¾„**: `F:\å¯¹æ ‡ç‰ˆæœ¬\media-renamer\`

**ä¸»è¦æ–‡ä»¶**:
- `app_v2.py`, `app_v3.py` - åº”ç”¨ä¸»æ–‡ä»¶
- `media-renamer.py` - ä¸»å…¥å£
- `CHANGELOG-v2.8.0.md`, `CHANGELOG-v3.0.0.md`, `CHANGELOG-v4.0.0.md` - æ›´æ–°æ—¥å¿—
- `VABHUB_PROJECT_STATUS_SUMMARY.md` - VabHubé¡¹ç›®çŠ¶æ€æ€»ç»“

**æ ¸å¿ƒç›®å½•**:
```
core/                             # æ ¸å¿ƒåŠŸèƒ½
â”œâ”€â”€ advanced_recognizer.py        # é«˜çº§è¯†åˆ«å™¨
â”œâ”€â”€ batch_operation_manager.py   # æ‰¹é‡æ“ä½œç®¡ç†
â”œâ”€â”€ chinese_title_resolver.py     # ä¸­æ–‡æ ‡é¢˜è§£æ
â”œâ”€â”€ config_manager.py             # é…ç½®ç®¡ç†
â”œâ”€â”€ file_manager.py               # æ–‡ä»¶ç®¡ç†
â”œâ”€â”€ history_manager.py            # å†å²ç®¡ç†
â”œâ”€â”€ smart_batch_processor.py      # æ™ºèƒ½æ‰¹é‡å¤„ç†
â””â”€â”€ ...

plugins/                          # æ’ä»¶ç³»ç»Ÿ
routes/                           # è·¯ç”±
services/                         # æœåŠ¡
docs/                             # æ–‡æ¡£
```

**VabHubç›¸å…³**:
- `VabHub/` - VabHubé¡¹ç›®ç›®å½•
- `VABHUB_PROJECT_STATUS_SUMMARY.md` - é¡¹ç›®çŠ¶æ€æ€»ç»“

---

### âœ… 2.3 MoviePilotï¼ˆMoviePiloté¡¹ç›®ï¼‰

**è·¯å¾„**: `F:\å¯¹æ ‡ç‰ˆæœ¬\MoviePilot\`

**ç»“æ„**:
```
MoviePilot/
â”œâ”€â”€ MoviePilot-2/                 # MoviePilot v2
â”œâ”€â”€ MoviePilot-2-extracted/       # æå–ç‰ˆæœ¬
â”œâ”€â”€ MoviePilot-Frontend-2/        # å‰ç«¯ v2
â”œâ”€â”€ MoviePilot-Plugins-main/      # æ’ä»¶
â”œâ”€â”€ MoviePilot-Resources-main/    # èµ„æº
â”œâ”€â”€ MoviePilot-Server-main/       # æœåŠ¡å™¨
â”œâ”€â”€ MoviePilot-Wiki-main/         # Wikiæ–‡æ¡£
â””â”€â”€ å„ç§zipæ–‡ä»¶                    # å‹ç¼©åŒ…
```

**è¯´æ˜**: è¿™æ˜¯VabHubçš„ä¸»è¦å¯¹æ ‡é¡¹ç›®

---

### âœ… 2.4 nas-toolsç³»åˆ—ï¼ˆNASå·¥å…·ï¼‰

**ç‰ˆæœ¬**:
- `nas-tools-3.2.2/` - v3.2.2ç‰ˆæœ¬
- `nas-tools-3.2.3/` - v3.2.3ç‰ˆæœ¬
- `nas-tools-master/` - ä¸»åˆ†æ”¯
- `Nastools-2.9.1/` - v2.9.1ç‰ˆæœ¬

**è¯´æ˜**: å¦ä¸€ä¸ªé‡è¦çš„åª’ä½“ç®¡ç†å·¥å…·

---

### âœ… 2.5 æ–°å»ºæ–‡ä»¶å¤¹ï¼ˆVabHubç›¸å…³åŒ…ï¼‰

**è·¯å¾„**: `F:\å¯¹æ ‡ç‰ˆæœ¬\æ–°å»ºæ–‡ä»¶å¤¹\`

**åŒ…å«çš„åŒ…**:
1. **vabhub_douban_fallback** - è±†ç“£å›é€€æœåŠ¡
   - **åŠŸèƒ½**: æä¾›è±†ç“£APIå›é€€åŠŸèƒ½ï¼ˆTMDb â†’ Douban Fallbackï¼‰
   - **ç«¯å£**: 9101
   - **ç‰¹ç‚¹**: 
     - æ”¯æŒç¦»çº¿æ¨¡å¼ï¼ˆä½¿ç”¨ç¤ºä¾‹æ•°æ®ï¼‰
     - æ”¯æŒç”Ÿäº§æ¨¡å¼ï¼ˆé…ç½®ä»£ç†ç½‘å…³å’ŒCookieï¼‰
     - æä¾›TMDBå’Œè±†ç“£æä¾›è€…
   - **API**: `/api/scraper/test?q=æå‡»ä¿±ä¹éƒ¨&year=1999`

2. **vabhub_gap_patch** - åŠŸèƒ½è¡¥ä¸ï¼ˆå‰åç«¯å¯¹é½ï¼‰
   - **åŠŸèƒ½**: WebUIâ†’åç«¯å¯¹é½"å·®å¼‚è¡¥é½åŒ…"ï¼ˆå¯¹æ ‡MoviePilotï¼‰
   - **ç«¯å£**: 9000
   - **ç‰¹ç‚¹**:
     - FastAPIåç«¯Stubï¼ˆå¯å¯åŠ¨ï¼Œè¿”å›å ä½æ•°æ®/501ï¼‰
     - UIæœŸæœ›ç«¯ç‚¹æ¸…å•
     - è‡ªåŠ¨å¯¹é½æ£€æŸ¥è„šæœ¬
     - capabilities.jsonä¸GitHub Actionså·¥ä½œæµ
     - å‰ç«¯è·¯ç”±å»ºè®®
   - **å·¥å…·**: `check_ui_backend_alignment.py` - æ£€æŸ¥UIä¸åç«¯å¯¹é½

3. **vabhub_jellyfin_parity** - Jellyfinå…¼å®¹æ€§
   - **åŠŸèƒ½**: Emby/Jellyfinå¹³æƒï¼ˆæœ€å°å®ç°ï¼‰
   - **ç«¯å£**: 9102
   - **ç‰¹ç‚¹**:
     - ç»Ÿä¸€æ¥å£ç®¡ç†ä¸¤ç±»åª’ä½“æœåŠ¡å™¨
     - æä¾›`/api/library/servers`åˆ—è¡¨
     - æä¾›`/ping`å’Œ`/refresh`æ¥å£
     - å¯ç›´æ¥æ›¿æ¢ç°æœ‰"ä»…Emby"çš„UIå¡ç‰‡

4. **vabhub_stream_gateway** - æµåª’ä½“ç½‘å…³
   - **åŠŸèƒ½**: Stream Gatewayï¼ˆæœ€å°å®ç°ï¼‰
   - **ç«¯å£**: 9103
   - **ç‰¹ç‚¹**:
     - è®©`.strm`æ–‡ä»¶æŒ‡å‘ç¨³å®šURLï¼ˆæœ¬ç½‘å…³ï¼‰
     - ç½‘å…³å†…éƒ¨è·å–115/123çš„çŸ­æ—¶æ•ˆç›´é“¾å¹¶302/åä»£
     - æä¾›HMACç­¾åä¸302é‡å®šå‘
   - **API**: 
     - `POST /sign` - ç”Ÿæˆç­¾å
     - `/stream/123pan/FILEID` - æµåª’ä½“è®¿é—®

---

## ğŸ“‹ ä¸‰ã€å‹ç¼©åŒ…æ–‡ä»¶

### 3.1 ä¸»è¦å‹ç¼©åŒ…

- `mediamaster-v2-2.5.8.zip` - åª’ä½“å¤§å¸ˆå‹ç¼©åŒ…
- `mediamaster-v2-main.zip` - åª’ä½“å¤§å¸ˆä¸»åˆ†æ”¯
- `MoviePilot.zip` - MoviePilotå‹ç¼©åŒ…
- `vabhub_douban_fallback.zip` - è±†ç“£å›é€€æœåŠ¡
- `vabhub_gap_patch.zip` - åŠŸèƒ½è¡¥ä¸
- `vabhub_jellyfin_parity.zip` - Jellyfinå…¼å®¹æ€§
- `vabhub_stream_gateway.zip` - æµåª’ä½“ç½‘å…³

---

## ğŸ“‹ å››ã€å…³é”®åŠŸèƒ½å¯¹æ¯”

### 4.1 charts-suite-v2 vs VabHub

| åŠŸèƒ½ | charts-suite-v2 | VabHub | çŠ¶æ€ |
|------|----------------|--------|------|
| Apple Musicå›¾è¡¨ | âœ… | â“ | å¾…æ£€æŸ¥ |
| Spotifyå›¾è¡¨ | âœ… | â“ | å¾…æ£€æŸ¥ |
| Netflix Top 10 | âœ… | âœ… | å·²å®ç° |
| IMDbæ•°æ®é›† | âœ… | â“ | å¾…æ£€æŸ¥ |
| å›¾è¡¨é›†æˆ | âœ… | â“ | å¾…æ£€æŸ¥ |

---

### 4.2 media-renamer vs VabHub

| åŠŸèƒ½ | media-renamer | VabHub | çŠ¶æ€ |
|------|--------------|--------|------|
| åª’ä½“é‡å‘½å | âœ… | âœ… | å·²å®ç° |
| æ‰¹é‡æ“ä½œ | âœ… | âœ… | å·²å®ç° |
| ä¸­æ–‡æ ‡é¢˜è§£æ | âœ… | âœ… | å·²å®ç° |
| æ’ä»¶ç³»ç»Ÿ | âœ… | âœ… | å·²å®ç° |
| å†å²ç®¡ç† | âœ… | âœ… | å·²å®ç° |

---

## ğŸ“‹ äº”ã€å¯å‚è€ƒçš„åŠŸèƒ½

### 5.1 charts-suite-v2

**å¯å‚è€ƒçš„åŠŸèƒ½**:
1. **Apple Musicå›¾è¡¨æ”¶é›†**
   - å®ç°Apple Musicæ’è¡Œæ¦œæ•°æ®æ”¶é›†
   - æ”¯æŒå¤šå›½å®¶/åœ°åŒº

2. **Spotifyå›¾è¡¨æ”¶é›†**
   - å®ç°Spotifyæ’è¡Œæ¦œæ•°æ®æ”¶é›†
   - æ”¯æŒå…¨çƒå’Œåœ°åŒºæ’è¡Œæ¦œ

3. **å›¾è¡¨é›†æˆåˆ°Prowlarr**
   - å°†å›¾è¡¨æ•°æ®é›†æˆåˆ°Prowlarr/Torznab
   - æ”¯æŒè‡ªåŠ¨è®¢é˜…

---

### 5.2 media-renamer

**å¯å‚è€ƒçš„åŠŸèƒ½**:
1. **é«˜çº§è¯†åˆ«å™¨**
   - æ›´æ™ºèƒ½çš„åª’ä½“è¯†åˆ«ç®—æ³•
   - æ”¯æŒå¤æ‚åœºæ™¯

2. **æ‰¹é‡æ“ä½œç®¡ç†**
   - æ›´å®Œå–„çš„æ‰¹é‡æ“ä½œåŠŸèƒ½
   - æ”¯æŒä»»åŠ¡é˜Ÿåˆ—

3. **ä¸­æ–‡æ ‡é¢˜è§£æ**
   - æ›´å‡†ç¡®çš„ä¸­æ–‡æ ‡é¢˜è¯†åˆ«
   - æ”¯æŒå¤šç§æ ¼å¼

---

## ğŸ“‹ å…­ã€å»ºè®®

### 6.1 éœ€è¦æ£€æŸ¥çš„åŠŸèƒ½

1. **charts-suite-v2**
   - âœ… æ£€æŸ¥Apple Musicå›¾è¡¨æ”¶é›†åŠŸèƒ½
   - âœ… æ£€æŸ¥Spotifyå›¾è¡¨æ”¶é›†åŠŸèƒ½
   - âœ… æ£€æŸ¥IMDbæ•°æ®é›†åŠŸèƒ½
   - âœ… æ£€æŸ¥å›¾è¡¨é›†æˆåŠŸèƒ½

2. **media-renamer**
   - âœ… æ£€æŸ¥é«˜çº§è¯†åˆ«å™¨å®ç°
   - âœ… æ£€æŸ¥æ‰¹é‡æ“ä½œç®¡ç†
   - âœ… æ£€æŸ¥ä¸­æ–‡æ ‡é¢˜è§£æ

3. **æ–°å»ºæ–‡ä»¶å¤¹ä¸­çš„åŒ…**
   - âœ… æ£€æŸ¥è±†ç“£å›é€€æœåŠ¡
   - âœ… æ£€æŸ¥åŠŸèƒ½è¡¥ä¸
   - âœ… æ£€æŸ¥Jellyfinå…¼å®¹æ€§
   - âœ… æ£€æŸ¥æµåª’ä½“ç½‘å…³

---

### 6.2 å¯é›†æˆçš„åŠŸèƒ½

1. **Apple Musicå’ŒSpotifyå›¾è¡¨**
   - å‚è€ƒcharts-suite-v2å®ç°
   - é›†æˆåˆ°VabHubçš„éŸ³ä¹åŠŸèƒ½

2. **å›¾è¡¨é›†æˆåˆ°Prowlarr**
   - å‚è€ƒcharts-suite-v2çš„é›†æˆæ–¹å¼
   - å®ç°è‡ªåŠ¨è®¢é˜…åŠŸèƒ½

3. **é«˜çº§è¯†åˆ«å™¨**
   - å‚è€ƒmedia-renamerçš„å®ç°
   - æå‡VabHubçš„è¯†åˆ«å‡†ç¡®ç‡

---

## ğŸ“‹ ä¸ƒã€æ€»ç»“

### 7.1 æ–‡ä»¶å¤¹å†…å®¹

- **ä¸»è¦é¡¹ç›®**: charts-suite-v2, media-renamer, MoviePilot, nas-tools
- **VabHubç›¸å…³åŒ…**: 4ä¸ªåŠŸèƒ½åŒ…ï¼ˆè±†ç“£å›é€€ã€åŠŸèƒ½è¡¥ä¸ã€Jellyfinå…¼å®¹ã€æµåª’ä½“ç½‘å…³ï¼‰
- **å‹ç¼©åŒ…**: å¤šä¸ªé¡¹ç›®çš„å‹ç¼©åŒ…

### 7.2 å…³é”®å‘ç°

1. **charts-suite-v2**: æä¾›äº†å®Œæ•´çš„å›¾è¡¨æ”¶é›†å’Œé›†æˆæ–¹æ¡ˆ
2. **media-renamer**: æä¾›äº†é«˜çº§çš„åª’ä½“è¯†åˆ«å’Œé‡å‘½ååŠŸèƒ½
3. **VabHubç›¸å…³åŒ…**: æä¾›äº†å¤šä¸ªåŠŸèƒ½è¡¥ä¸å’Œæ‰©å±•

### 7.3 ä¸‹ä¸€æ­¥

1. **æ·±å…¥åˆ†æ**: è¯¦ç»†åˆ†æå…³é”®é¡¹ç›®çš„å®ç°
2. **åŠŸèƒ½å¯¹æ¯”**: å¯¹æ¯”VabHubä¸è¿™äº›é¡¹ç›®çš„åŠŸèƒ½å·®å¼‚
3. **é›†æˆå»ºè®®**: æå‡ºåŠŸèƒ½é›†æˆå»ºè®®

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025-01-XX  
**çŠ¶æ€**: âœ… åˆ†æå®Œæˆ

