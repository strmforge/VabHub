meta:
  id: unit3d
  name: Unit3D通用配置
  family: unit3d
  version: 1.0.0
  domains: []  # 通用配置，不限制域名

verify:
  any:
    - meta_generator_equals: "Unit3D"
    - title_contains: "Unit3D"
    - selector_exists: "div.torrent-list"
    - selector_exists: "table.torrents-table"

parse:
  list:
    row: "table.torrents-table > tbody > tr, div.torrent-list > div.torrent-item"
    fields:
      title_raw:
        selector: "a[href*='/torrents/'], a[href*='/torrent/']"
        text: true
      size_bytes:
        selector: "td.size, span.size"
        text: true
        transform: "size"
      seeders:
        selector: "td.seeders, span.seeders"
        text: true
        transform: "int"
      leechers:
        selector: "td.leechers, span.leechers"
        text: true
        transform: "int"
      upload_time:
        selector: "td.time, span.time"
        text: true
  
  detail:
    fields:
      title:
        selector: "h1.torrent-title, h2.torrent-title"
        text: true
      description:
        selector: "div.torrent-description"
        text: true
      download_link:
        selector: "a[href*='/torrents/download/'], a[href*='/torrent/download/']"
        attr: "href"
  
  user:
    fields:
      username:
        selector: "span.username, a.username"
        text: true
      upload:
        selector: "td.upload, span.upload"
        text: true
        transform: "size"
      download:
        selector: "td.download, span.download"
        text: true
        transform: "size"
      ratio:
        selector: "td.ratio, span.ratio"
        text: true
        transform: "float"
      seeding:
        selector: "td.seeding, span.seeding"
        text: true
        transform: "int"

