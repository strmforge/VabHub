# 前端联调测试指南

## 🎯 测试目标

验证前后端可以正常协作，前端可以调用API并展示数据。

## 📋 测试步骤

### 步骤1：确保后端服务运行

```bash
cd backend
python main.py
```

或者检查服务是否已运行：
```bash
curl http://localhost:8000/health
```

### 步骤2：安装前端依赖

```bash
cd frontend
npm install
```

### 步骤3：启动前端服务

```bash
npm run dev
```

前端将运行在 http://localhost:5173

### 步骤4：测试功能

#### 4.1 访问登录页面
- 打开 http://localhost:5173/login
- 检查页面是否正常显示

#### 4.2 测试登录
- 使用之前注册的用户登录
- 检查是否能成功登录
- 检查是否能跳转到仪表盘

#### 4.3 测试仪表盘
- 检查是否能加载数据
- 检查系统监控数据是否显示
- 检查媒体统计是否显示
- 检查下载统计是否显示

#### 4.4 测试API调用
- 打开浏览器开发者工具
- 查看Network标签
- 检查API请求是否成功
- 检查响应数据是否正确

---

## ✅ 测试检查清单

### 后端服务
- [ ] 后端服务运行在 http://localhost:8000
- [ ] 健康检查API正常
- [ ] API文档可以访问 (http://localhost:8000/docs)

### 前端服务
- [ ] 前端服务运行在 http://localhost:5173
- [ ] 页面可以正常打开
- [ ] 没有控制台错误

### 登录功能
- [ ] 登录页面正常显示
- [ ] 可以输入用户名和密码
- [ ] 登录请求发送成功
- [ ] Token可以保存
- [ ] 登录后可以跳转

### 仪表盘功能
- [ ] 仪表盘页面正常显示
- [ ] API请求发送成功
- [ ] 数据可以正常加载
- [ ] 系统监控数据正确显示
- [ ] 媒体统计数据正确显示
- [ ] 下载统计数据正确显示

---

## 🐛 常见问题

### 问题1：CORS错误
**错误**: `CORS policy: No 'Access-Control-Allow-Origin'`

**解决**: 检查 `backend/app/core/config.py` 中的 `CORS_ORIGINS` 是否包含 `http://localhost:5173`

### 问题2：API请求失败
**错误**: `Network Error` 或 `Failed to fetch`

**解决**:
1. 确认后端服务运行在 http://localhost:8000
2. 检查 `frontend/vite.config.ts` 中的代理配置
3. 检查浏览器控制台的错误信息

### 问题3：Token无效
**错误**: `401 Unauthorized`

**解决**:
1. 检查Token是否正确保存
2. 检查Token是否过期
3. 重新登录获取新Token

### 问题4：数据不显示
**错误**: 页面显示但数据为空

**解决**:
1. 检查API响应数据
2. 检查前端Store是否正确更新
3. 检查组件是否正确绑定数据

---

## 📊 测试结果记录

### 测试日期
___________

### 后端服务
- [ ] 运行正常
- [ ] 健康检查通过
- [ ] API文档可访问

### 前端服务
- [ ] 运行正常
- [ ] 页面正常显示
- [ ] 无控制台错误

### 登录功能
- [ ] 登录页面正常
- [ ] 登录功能正常
- [ ] Token保存正常

### 仪表盘功能
- [ ] 页面正常显示
- [ ] API调用成功
- [ ] 数据正常显示

### 遇到的问题
_________________________________________________
_________________________________________________

### 解决方案
_________________________________________________
_________________________________________________

---

**准备好开始测试了吗？让我们开始！** 🚀

