# Manga Local Read Phase 2 QA æµ‹è¯•è®¡åˆ’

## æ¦‚è¿°

æœ¬æ–‡æ¡£ä¸º Manga Local Read Phase 2 çš„ç»¼åˆæµ‹è¯•è®¡åˆ’ï¼Œæ¶µç›–å·²å®ŒæˆåŠŸèƒ½çš„éªŒè¯æµ‹è¯•ã€è¢«æŠ€æœ¯å€ºåŠ¡é˜»å¡çš„é›†æˆæµ‹è¯•ï¼Œä»¥åŠå·²çŸ¥é—®é¢˜è®°å½•ã€‚

**å®æ–½çŠ¶æ€æ€»ç»“**ï¼š
- âœ… P0: ç°çŠ¶å·¡æ£€å’Œè¾¹ç•Œç¡®è®¤
- âœ… P1: ä¸‹è½½é˜Ÿåˆ—åŒ–ï¼ˆåç«¯å®ç°ï¼‰
- âœ… P2: å‰ç«¯ä¸‹è½½é›†æˆï¼ˆUIå’ŒçŠ¶æ€ç®¡ç†ï¼‰
- â¸ï¸ P3: é˜…è¯»è¿›åº¦æ¥å…¥ï¼ˆè¢«æŠ€æœ¯å€ºåŠ¡é˜»å¡ï¼‰
- âœ… P4: UXæ”¹è¿›ï¼ˆé”®ç›˜å¯¼èˆªå’Œé¢„åŠ è½½ï¼‰
- ğŸ”„ P5: QAæµ‹è¯•è®¡åˆ’ï¼ˆæœ¬æ–‡æ¡£ï¼‰
- â³ P6: æ–‡æ¡£å‘å¸ƒï¼ˆå¾…å®Œæˆï¼‰

---

## 1. å‰ç«¯åŠŸèƒ½æµ‹è¯•ï¼ˆå¯ç«‹å³æ‰§è¡Œï¼‰

### 1.1 P2 å‰ç«¯ä¸‹è½½é›†æˆæµ‹è¯•

#### 1.1.1 ä¸‹è½½ä»»åŠ¡åˆ›å»ºæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ç”¨æˆ·åœ¨è¿œç¨‹æ¼«ç”»é¡µé¢åˆ›å»ºä¸‹è½½ä»»åŠ¡

**æµ‹è¯•æ­¥éª¤**:
1. è®¿é—®è¿œç¨‹æ¼«ç”»æµè§ˆé¡µé¢ (`/manga/remote`)
2. é€‰æ‹©ä¸€ä¸ªæ¼«ç”»æºå¹¶æœç´¢æ¼«ç”»
3. ç‚¹å‡»ä»»æ„æ¼«ç”»å¡ç‰‡æ‰“å¼€è¯¦æƒ…å¯¹è¯æ¡†
4. ç‚¹å‡»"å¯¼å…¥åˆ°æœ¬åœ°æ¼«ç”»åº“"æŒ‰é’®
5. åœ¨å¯¼å…¥å¯¹è¯æ¡†ä¸­é€‰æ‹©ä¸‹è½½æ¨¡å¼ï¼ˆALL/LATEST_N/SELECTEDï¼‰
6. ç‚¹å‡»ç¡®è®¤åˆ›å»ºä¸‹è½½ä»»åŠ¡

**é¢„æœŸç»“æœ**:
- æ˜¾ç¤º"ä¸‹è½½ä»»åŠ¡å·²åˆ›å»º (#ä»»åŠ¡ID)ï¼Œæ­£åœ¨åå°ä¸‹è½½"çš„æˆåŠŸæç¤º
- è‡ªåŠ¨æ‰“å¼€ä¸‹è½½ä»»åŠ¡å¯¹è¯æ¡†
- ä¸‹è½½ä»»åŠ¡åˆ—è¡¨ä¸­æ˜¾ç¤ºæ–°åˆ›å»ºçš„ä»»åŠ¡ï¼ŒçŠ¶æ€ä¸º"PENDING"æˆ–"RUNNING"

**æ³¨æ„äº‹é¡¹**: ç”±äºåç«¯æŠ€æœ¯å€ºåŠ¡ï¼ŒAPIè°ƒç”¨ä¼šå¤±è´¥ï¼Œä½†UIäº¤äº’å’Œé”™è¯¯å¤„ç†åº”æ­£å¸¸å·¥ä½œ

#### 1.1.2 ä¸‹è½½ä»»åŠ¡çŠ¶æ€å±•ç¤ºæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä¸‹è½½ä»»åŠ¡å¯¹è¯æ¡†çš„çŠ¶æ€æ˜¾ç¤ºå’Œäº¤äº’

**æµ‹è¯•æ­¥éª¤**:
1. ç‚¹å‡»é¡µé¢å¤´éƒ¨çš„"ä¸‹è½½ä»»åŠ¡"æŒ‰é’®
2. éªŒè¯ä»»åŠ¡å¯¹è¯æ¡†çš„UIå¸ƒå±€
3. æ£€æŸ¥ä»»åŠ¡çŠ¶æ€æ˜¾ç¤ºï¼ˆé¢œè‰²ã€å›¾æ ‡ã€æ–‡æœ¬ï¼‰
4. æµ‹è¯•åˆ·æ–°æŒ‰é’®åŠŸèƒ½
5. æµ‹è¯•å…³é—­å¯¹è¯æ¡†åŠŸèƒ½

**é¢„æœŸç»“æœ**:
- å¯¹è¯æ¡†æ­£ç¡®æ˜¾ç¤ºä»»åŠ¡åˆ—è¡¨æˆ–ç©ºçŠ¶æ€
- ä»»åŠ¡çŠ¶æ€ä½¿ç”¨æ­£ç¡®çš„é¢œè‰²å’Œå›¾æ ‡ï¼ˆPENDING:æ©™è‰²ï¼ŒRUNNING:è“è‰²ï¼ŒSUCCESS:ç»¿è‰²ï¼ŒFAILED:çº¢è‰²ï¼‰
- åˆ·æ–°æŒ‰é’®èƒ½é‡æ–°åŠ è½½ä»»åŠ¡åˆ—è¡¨
- å…³é—­æŒ‰é’®èƒ½æ­£å¸¸å…³é—­å¯¹è¯æ¡†

#### 1.1.3 ä»»åŠ¡è®¡æ•°å¾½ç« æµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä¸‹è½½ä»»åŠ¡æŒ‰é’®çš„è®¡æ•°å¾½ç« æ˜¾ç¤º

**æµ‹è¯•æ­¥éª¤**:
1. æ¨¡æ‹Ÿæœ‰æ´»è·ƒä¸‹è½½ä»»åŠ¡çš„çŠ¶æ€
2. éªŒè¯é¡µé¢å¤´éƒ¨ä¸‹è½½ä»»åŠ¡æŒ‰é’®çš„å¾½ç« æ˜¾ç¤º

**é¢„æœŸç»“æœ**:
- å½“æœ‰PENDINGæˆ–RUNNINGçŠ¶æ€çš„ä»»åŠ¡æ—¶ï¼Œæ˜¾ç¤ºæ©™è‰²è®¡æ•°å¾½ç« 
- å¾½ç« æ•°å­—ç­‰äºæ´»è·ƒä»»åŠ¡æ•°é‡
- æ— æ´»è·ƒä»»åŠ¡æ—¶ï¼Œå¾½ç« ä¸æ˜¾ç¤º

### 1.2 P4 UXæ”¹è¿›æµ‹è¯•

#### 1.2.1 é”®ç›˜å¯¼èˆªæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä½¿ç”¨é”®ç›˜å¿«æ·é”®è¿›è¡Œæ¼«ç”»é˜…è¯»å¯¼èˆª

**æµ‹è¯•æ­¥éª¤**:
1. æ‰“å¼€ä»»æ„å·²ä¸‹è½½ç« èŠ‚çš„æ¼«ç”»é˜…è¯»é¡µé¢
2. æµ‹è¯•ä»¥ä¸‹é”®ç›˜å¿«æ·é”®ï¼š
   - `â†‘` / `â†` / `PageUp`: ä¸Šä¸€é¡µ
   - `â†“` / `â†’` / `ç©ºæ ¼` / `PageDown`: ä¸‹ä¸€é¡µ
   - `Home`: ç¬¬ä¸€é¡µ
   - `End`: æœ€åä¸€é¡µ
   - `n`: ä¸‹ä¸€è¯
   - `p`: ä¸Šä¸€è¯

**é¢„æœŸç»“æœ**:
- æ‰€æœ‰å¿«æ·é”®éƒ½èƒ½æ­£ç¡®å“åº”å¹¶æ‰§è¡Œå¯¹åº”æ“ä½œ
- é¡µé¢æ»šåŠ¨å¹³æ»‘ï¼Œå®šä½å‡†ç¡®
- ç« èŠ‚åˆ‡æ¢æ­£å¸¸å·¥ä½œ
- åœ¨è¾“å…¥æ¡†ä¸­æ—¶ï¼Œå¿«æ·é”®ä¸è§¦å‘å¯¼èˆª

#### 1.2.2 é¢„åŠ è½½æœºåˆ¶æµ‹è¯•
**æµ‹è¯•åœºæ™¯**: å›¾ç‰‡é¢„åŠ è½½åŠŸèƒ½éªŒè¯

**æµ‹è¯•æ­¥éª¤**:
1. æ‰“å¼€æ¼«ç”»é˜…è¯»é¡µé¢
2. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„Networké¢æ¿
3. æ»šåŠ¨åˆ°ç¬¬1é¡µï¼Œè§‚å¯Ÿç½‘ç»œè¯·æ±‚
4. æ»šåŠ¨åˆ°ç¬¬2é¡µï¼Œè§‚å¯Ÿæ˜¯å¦å·²é¢„åŠ è½½ç¬¬3-5é¡µ
5. ç»§ç»­æ»šåŠ¨ï¼ŒéªŒè¯é¢„åŠ è½½çš„è¿ç»­æ€§

**é¢„æœŸç»“æœ**:
- å½“å‰é¡µé¢åŠ è½½å®Œæˆåï¼Œè‡ªåŠ¨é¢„åŠ è½½åç»­3é¡µå›¾ç‰‡
- é¢„åŠ è½½çš„å›¾ç‰‡åœ¨åç»­è®¿é—®æ—¶æ— éœ€é‡æ–°ä¸‹è½½
- é¢„åŠ è½½å¤±è´¥ä¸å½±å“æ­£å¸¸é˜…è¯»

#### 1.2.3 é˜…è¯»è¿›åº¦è·Ÿè¸ªæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: é˜…è¯»è¿›åº¦çš„è‡ªåŠ¨æ›´æ–°å’Œæ¢å¤

**æµ‹è¯•æ­¥éª¤**:
1. æ‰“å¼€æ¼«ç”»é˜…è¯»é¡µé¢
2. æ»šåŠ¨åˆ°ä¸­é—´é¡µé¢ï¼ˆå¦‚ç¬¬5é¡µï¼‰
3. ç­‰å¾…5ç§’è®©è¿›åº¦è‡ªåŠ¨ä¿å­˜
4. åˆ·æ–°é¡µé¢æˆ–é‡æ–°è¿›å…¥ç« èŠ‚
5. éªŒè¯æ˜¯å¦æ¢å¤åˆ°ä¸Šæ¬¡é˜…è¯»ä½ç½®

**é¢„æœŸç»“æœ**:
- é˜…è¯»è¿›åº¦æ¯5ç§’è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡
- é‡æ–°è¿›å…¥æ—¶èƒ½æ¢å¤åˆ°ä¸Šæ¬¡é˜…è¯»é¡µé¢
- é¡µé¢æ ‡é¢˜æ˜¾ç¤ºä¸Šæ¬¡é˜…è¯»è¿›åº¦æç¤º

---

## 2. åç«¯é›†æˆæµ‹è¯•ï¼ˆæŠ€æœ¯å€ºåŠ¡æ¸…ç†åæ‰§è¡Œï¼‰

### 2.1 P1 ä¸‹è½½é˜Ÿåˆ—ç³»ç»Ÿæµ‹è¯•

#### 2.1.1 Jobåˆ›å»ºAPIæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: åç«¯ä¸‹è½½ä»»åŠ¡åˆ›å»ºAPIåŠŸèƒ½

**APIç«¯ç‚¹**:
- `POST /api/manga/local/chapters/{id}/download`
- `POST /api/manga/local/series/{id}/download`

**æµ‹è¯•æ­¥éª¤**:
1. å‘é€ç« èŠ‚ä¸‹è½½è¯·æ±‚
2. å‘é€ç³»åˆ—ä¸‹è½½è¯·æ±‚
3. éªŒè¯è¿”å›çš„Jobå¯¹è±¡ç»“æ„
4. æ£€æŸ¥æ•°æ®åº“ä¸­çš„Jobè®°å½•

**é¢„æœŸç»“æœ**:
- APIè¿”å›æ­£ç¡®çš„Jobå¯¹è±¡ï¼ŒåŒ…å«job_idã€çŠ¶æ€ç­‰ä¿¡æ¯
- æ•°æ®åº“ä¸­æ­£ç¡®åˆ›å»ºMangaDownloadJobè®°å½•
- JobçŠ¶æ€åˆå§‹ä¸ºPENDING

#### 2.1.2 JobçŠ¶æ€æŸ¥è¯¢APIæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä¸‹è½½ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢åŠŸèƒ½

**APIç«¯ç‚¹**:
- `GET /api/manga/local/download-jobs/summary`
- `GET /api/manga/local/download-jobs`
- `GET /api/manga/local/download-jobs/{id}`

**æµ‹è¯•æ­¥éª¤**:
1. æŸ¥è¯¢ä»»åŠ¡æ‘˜è¦ç»Ÿè®¡
2. æŸ¥è¯¢ä»»åŠ¡åˆ—è¡¨
3. æŸ¥è¯¢ç‰¹å®šä»»åŠ¡è¯¦æƒ…
4. æµ‹è¯•åˆ†é¡µå’Œè¿‡æ»¤å‚æ•°

**é¢„æœŸç»“æœ**:
- æ‘˜è¦APIè¿”å›æ­£ç¡®çš„ä»»åŠ¡ç»Ÿè®¡
- åˆ—è¡¨APIæ”¯æŒåˆ†é¡µå’ŒçŠ¶æ€è¿‡æ»¤
- è¯¦æƒ…APIè¿”å›å®Œæ•´çš„ä»»åŠ¡ä¿¡æ¯

#### 2.1.3 Download Workeræµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä¸‹è½½å·¥ä½œè¿›ç¨‹çš„ä»»åŠ¡å¤„ç†

**æµ‹è¯•æ­¥éª¤**:
1. å¯åŠ¨ä¸‹è½½å·¥ä½œè¿›ç¨‹
2. åˆ›å»ºæµ‹è¯•ä¸‹è½½ä»»åŠ¡
3. ç›‘æ§ä»»åŠ¡çŠ¶æ€å˜åŒ–
4. éªŒè¯ä¸‹è½½æ–‡ä»¶ç”Ÿæˆ
5. æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶

**é¢„æœŸç»“æœ**:
- Workeræ­£ç¡®å¤„ç†PENDINGä»»åŠ¡
- ä»»åŠ¡çŠ¶æ€æ­£ç¡®æ›´æ–°ï¼ˆPENDING -> RUNNING -> SUCCESS/FAILEDï¼‰
- ä¸‹è½½æ–‡ä»¶æ­£ç¡®ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„
- é”™è¯¯æƒ…å†µæ­£ç¡®è®°å½•å’ŒæŠ¥å‘Š

### 2.2 P3 é˜…è¯»è¿›åº¦é›†æˆæµ‹è¯•

#### 2.3.1 ReadingHubé›†æˆæµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä¸‹è½½å®Œæˆåè‡ªåŠ¨åˆ›å»ºé˜…è¯»è®°å½•

**æµ‹è¯•æ­¥éª¤**:
1. å®Œæˆæ¼«ç”»ç« èŠ‚ä¸‹è½½
2. æ£€æŸ¥ReadingHubä¸­çš„é˜…è¯»è®°å½•
3. éªŒè¯é˜…è¯»è¿›åº¦åˆå§‹åŒ–

**é¢„æœŸç»“æœ**:
- ä¸‹è½½å®Œæˆåè‡ªåŠ¨åœ¨ReadingHubåˆ›å»ºè®°å½•
- é˜…è¯»è¿›åº¦æ­£ç¡®åˆå§‹åŒ–ä¸º0

#### 2.3.2 Telegramé€šçŸ¥æµ‹è¯•
**æµ‹è¯•åœºæ™¯**: ä¸‹è½½å®Œæˆæ—¶çš„Telegramé€šçŸ¥

**æµ‹è¯•æ­¥éª¤**:
1. é…ç½®Telegramé€šçŸ¥
2. è§¦å‘æ¼«ç”»ä¸‹è½½
3. ç­‰å¾…ä¸‹è½½å®Œæˆ
4. æ£€æŸ¥Telegramæ¶ˆæ¯æ¥æ”¶

**é¢„æœŸç»“æœ**:
- ä¸‹è½½å®Œæˆåå‘é€Telegramé€šçŸ¥
- æ¶ˆæ¯åŒ…å«æ­£ç¡®çš„æ¼«ç”»ä¿¡æ¯å’Œä¸‹è½½çŠ¶æ€

---

## 3. å·²çŸ¥é—®é¢˜å’ŒæŠ€æœ¯å€ºåŠ¡

### 3.1 åç«¯æœåŠ¡å™¨å¯åŠ¨é—®é¢˜
**é—®é¢˜æè¿°**: åç«¯æœåŠ¡å™¨å› æŠ€æœ¯å€ºåŠ¡æ— æ³•å¯åŠ¨ï¼Œé˜»æ­¢äº†æ‰€æœ‰é›†æˆæµ‹è¯•

**å…·ä½“é”™è¯¯**:
1. `app.schemas.response` æ¨¡å—ç¼ºå¤±
2. å¤šä¸ªAPIæ¨¡å—å­˜åœ¨FastAPI response_modelé”™è¯¯
3. éƒ¨åˆ†æ¨¡å—ç¼ºå°‘å¿…è¦çš„ä¾èµ–å¯¼å…¥

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**: å·²æ³¨é‡Šæ‰é—®é¢˜æ¨¡å—ä»¥æ¢å¤åŸºæœ¬åŠŸèƒ½

**æ ¹æœ¬è§£å†³æ–¹æ¡ˆ**: éœ€è¦ç³»ç»Ÿæ€§çš„åç«¯åŸºç¡€è®¾æ–½æ¸…ç†

### 3.2 è¢«æ³¨é‡Šçš„æ¨¡å—åˆ—è¡¨
ä»¥ä¸‹æ¨¡å—åœ¨ `app/api/__init__.py` ä¸­è¢«ä¸´æ—¶æ³¨é‡Šï¼š
- `notifications_user`: FastAPI response_modelé”™è¯¯
- `video_progress`: FastAPI response_modelé”™è¯¯  
- `player_wall`: ç¼ºå°‘media_fileæ¨¡å—
- `music_chart_admin`: ç¼ºå°‘get_async_sessionï¼ˆå·²ä¿®å¤ï¼‰
- `music_subscription`: ç¼ºå°‘get_async_session

### 3.3 æ•°æ®åº“å…¼å®¹æ€§é—®é¢˜
**é—®é¢˜æè¿°**: `get_async_session` å‡½æ•°ç¼ºå¤±å¯¼è‡´å¤šä¸ªæ¨¡å—å¯¼å…¥å¤±è´¥

**ä¸´æ—¶è§£å†³æ–¹æ¡ˆ**: åœ¨ `app/core/database.py` ä¸­æ·»åŠ äº†åˆ«å `get_async_session = get_db`

---

## 4. æµ‹è¯•ç¯å¢ƒè¦æ±‚

### 4.1 å‰ç«¯æµ‹è¯•ç¯å¢ƒ
- Vue 3 å¼€å‘æœåŠ¡å™¨æ­£å¸¸è¿è¡Œ
- ç°ä»£æµè§ˆå™¨ï¼ˆChrome/Firefox/Safariæœ€æ–°ç‰ˆæœ¬ï¼‰
- å¼€å‘è€…å·¥å…·ç”¨äºç½‘ç»œè¯·æ±‚ç›‘æ§

### 4.2 åç«¯æµ‹è¯•ç¯å¢ƒï¼ˆæŠ€æœ¯å€ºåŠ¡æ¸…ç†åï¼‰
- FastAPI æœåŠ¡å™¨èƒ½æ­£å¸¸å¯åŠ¨
- SQLite æ•°æ®åº“æ­£å¸¸è¿è¡Œ
- æ‰€æœ‰APIæ¨¡å—æ­£ç¡®åŠ è½½
- ä¸‹è½½å·¥ä½œè¿›ç¨‹èƒ½æ­£å¸¸è¿è¡Œ

---

## 5. æµ‹è¯•æ‰§è¡Œè®¡åˆ’

### 5.1 ç¬¬ä¸€é˜¶æ®µï¼šå‰ç«¯åŠŸèƒ½æµ‹è¯•ï¼ˆç«‹å³æ‰§è¡Œï¼‰
- ç›®æ ‡ï¼šéªŒè¯å·²å®Œæˆçš„å‰ç«¯åŠŸèƒ½
- é¢„è®¡æ—¶é—´ï¼š2-3å°æ—¶
- è´Ÿè´£äººï¼šå‰ç«¯å¼€å‘äººå‘˜

### 5.2 ç¬¬äºŒé˜¶æ®µï¼šåç«¯é›†æˆæµ‹è¯•ï¼ˆæŠ€æœ¯å€ºåŠ¡æ¸…ç†åï¼‰
- ç›®æ ‡ï¼šéªŒè¯å®Œæ•´çš„ä¸‹è½½å’Œé˜…è¯»æµç¨‹
- é¢„è®¡æ—¶é—´ï¼š4-6å°æ—¶
- å‰ç½®æ¡ä»¶ï¼šåç«¯æŠ€æœ¯å€ºåŠ¡æ¸…ç†å®Œæˆ

### 5.3 ç¬¬ä¸‰é˜¶æ®µï¼šç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆå®Œæ•´ç¯å¢ƒï¼‰
- ç›®æ ‡ï¼šéªŒè¯ç”¨æˆ·å®Œæ•´ä½¿ç”¨åœºæ™¯
- é¢„è®¡æ—¶é—´ï¼š2-3å°æ—¶
- å‰ç½®æ¡ä»¶ï¼šå‰åç«¯é›†æˆæµ‹è¯•é€šè¿‡

---

## 6. æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

### 6.1 æµ‹è¯•ç»“æœè®°å½•
```
æµ‹è¯•ç”¨ä¾‹ID: [ID]
æµ‹è¯•æ—¥æœŸ: [æ—¥æœŸ]
æµ‹è¯•äººå‘˜: [å§“å]
æµ‹è¯•ç»“æœ: PASS/FAIL/BLOCKED
é—®é¢˜æè¿°: [å¤±è´¥æ—¶çš„è¯¦ç»†æè¿°]
æˆªå›¾/æ—¥å¿—: [ç›¸å…³é™„ä»¶]
```

### 6.2 ç¼ºé™·è·Ÿè¸ª
- ä¸¥é‡ç¨‹åº¦ï¼šCritical/High/Medium/Low
- ä¼˜å…ˆçº§ï¼šP1/P2/P3/P4
- çŠ¶æ€ï¼šOpen/In Progress/Fixed/Closed

---

## 7. é£é™©å’Œç¼“è§£æªæ–½

### 7.1 æŠ€æœ¯é£é™©
- **é£é™©**: åç«¯æŠ€æœ¯å€ºåŠ¡æ¸…ç†æ—¶é—´è¶…å‡ºé¢„æœŸ
- **ç¼“è§£**: åˆ†é˜¶æ®µæ¸…ç†ï¼Œä¼˜å…ˆæ¢å¤æ ¸å¿ƒåŠŸèƒ½

### 7.2 æµ‹è¯•é£é™©
- **é£é™©**: å‰ç«¯æµ‹è¯•æ— æ³•è¦†ç›–å®Œæ•´çš„é›†æˆåœºæ™¯
- **ç¼“è§£**: åˆ›å»ºè¯¦ç»†çš„æ¨¡æ‹Ÿæ•°æ®å’Œæµ‹è¯•åœºæ™¯

### 7.3 è¿›åº¦é£é™©
- **é£é™©**: P3åç«¯é›†æˆåŠŸèƒ½å¯èƒ½éœ€è¦å¤§å¹…é‡æ„
- **ç¼“è§£**: é¢„ç•™é¢å¤–çš„å¼€å‘å’Œæµ‹è¯•æ—¶é—´

---

## 8. é™„å½•

### 8.1 ç›¸å…³æ–‡æ¡£
- Manga Local Read Phase 1 è®¾è®¡æ–‡æ¡£
- å‰ç«¯ç»„ä»¶APIæ–‡æ¡£
- åç«¯APIæ¥å£æ–‡æ¡£

### 8.2 è”ç³»ä¿¡æ¯
- å‰ç«¯å¼€å‘è´Ÿè´£äººï¼š[å§“å]
- åç«¯å¼€å‘è´Ÿè´£äººï¼š[å§“å]
- æµ‹è¯•è´Ÿè´£äººï¼š[å§“å]

---

## 9. æŠ€æœ¯å€ºåŠ¡æ¸…ç†åéªŒè¯æ¸…å•

### 9.1 æœåŠ¡å™¨å¯åŠ¨éªŒè¯
- [ ] åç«¯æœåŠ¡å™¨èƒ½æ­£å¸¸å¯åŠ¨ (`uvicorn main:app --host 0.0.0.0 --port 8000`)
- [ ] æ‰€æœ‰APIæ¨¡å—æ­£ç¡®åŠ è½½ï¼Œæ— å¯¼å…¥é”™è¯¯
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸ï¼Œè¿ç§»è„šæœ¬æ‰§è¡ŒæˆåŠŸ
- [ ] å¥åº·æ£€æŸ¥ç«¯ç‚¹è¿”å›æ­£å¸¸çŠ¶æ€

### 9.2 æ ¸å¿ƒAPIåŠŸèƒ½éªŒè¯
- [ ] `POST /api/manga/local/chapters/{id}/download` - ç« èŠ‚ä¸‹è½½ä»»åŠ¡åˆ›å»º
- [ ] `POST /api/manga/local/series/{id}/download` - ç³»åˆ—ä¸‹è½½ä»»åŠ¡åˆ›å»º
- [ ] `GET /api/manga/local/download-jobs/summary` - ä»»åŠ¡æ‘˜è¦æŸ¥è¯¢
- [ ] `GET /api/manga/local/download-jobs` - ä»»åŠ¡åˆ—è¡¨æŸ¥è¯¢
- [ ] `GET /api/manga/local/download-jobs/{id}` - ä»»åŠ¡è¯¦æƒ…æŸ¥è¯¢

### 9.3 ä¸‹è½½å·¥ä½œè¿›ç¨‹éªŒè¯
- [ ] ä¸‹è½½å·¥ä½œè¿›ç¨‹èƒ½æ­£å¸¸å¯åŠ¨
- [ ] PENDINGä»»åŠ¡è¢«æ­£ç¡®å¤„ç†
- [ ] ä»»åŠ¡çŠ¶æ€æ­£ç¡®æ›´æ–° (PENDING -> RUNNING -> SUCCESS/FAILED)
- [ ] ä¸‹è½½æ–‡ä»¶æ­£ç¡®ä¿å­˜åˆ°æœ¬åœ°è·¯å¾„
- [ ] é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•æ­£å¸¸

### 9.4 å‰åç«¯é›†æˆéªŒè¯
- [ ] å‰ç«¯èƒ½æˆåŠŸåˆ›å»ºä¸‹è½½ä»»åŠ¡
- [ ] ä»»åŠ¡çŠ¶æ€è½®è¯¢æ­£å¸¸å·¥ä½œ
- [ ] ä¸‹è½½å®ŒæˆåUIçŠ¶æ€æ­£ç¡®æ›´æ–°
- [ ] é˜…è¯»è¿›åº¦è‡ªåŠ¨åŒæ­¥åˆ°ReadingHub
- [ ] Telegramé€šçŸ¥æ­£å¸¸å‘é€

### 9.5 ç«¯åˆ°ç«¯åœºæ™¯éªŒè¯
- [ ] å®Œæ•´çš„æ¼«ç”»ä¸‹è½½æµç¨‹ï¼šè¿œç¨‹æµè§ˆ -> åˆ›å»ºä»»åŠ¡ -> ä¸‹è½½å®Œæˆ -> é˜…è¯»è¿›åº¦åŒæ­¥
- [ ] æ‰¹é‡ä¸‹è½½åœºæ™¯ï¼šç³»åˆ—ä¸‹è½½åŒ…å«å¤šä¸ªç« èŠ‚
- [ ] é”™è¯¯æ¢å¤åœºæ™¯ï¼šä¸‹è½½å¤±è´¥åçš„é‡è¯•æœºåˆ¶
- [ ] å¹¶å‘ä¸‹è½½åœºæ™¯ï¼šå¤šä¸ªä»»åŠ¡åŒæ—¶æ‰§è¡Œ

---

## 10. APIè½½è·ç¤ºä¾‹

### 10.1 åˆ›å»ºç« èŠ‚ä¸‹è½½ä»»åŠ¡
```bash
POST /api/manga/local/chapters/123/download
Content-Type: application/json

{
  "source_id": 1,
  "remote_series_id": "manga_456",
  "mode": "chapter"
}
```

**é¢„æœŸå“åº”**:
```json
{
  "code": 200,
  "message": "ä¸‹è½½ä»»åŠ¡åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 789,
    "user_id": 1,
    "source_id": 1,
    "source_name": "ExampleManga",
    "remote_series_id": "manga_456",
    "remote_series_title": "Example Manga Title",
    "target_series_id": 123,
    "mode": "CHAPTER",
    "status": "PENDING",
    "error_message": null,
    "created_at": "2024-01-01T12:00:00Z",
    "updated_at": "2024-01-01T12:00:00Z",
    "started_at": null,
    "completed_at": null
  }
}
```

### 10.2 åˆ›å»ºç³»åˆ—ä¸‹è½½ä»»åŠ¡
```bash
POST /api/manga/local/series/456/download
Content-Type: application/json

{
  "source_id": 1,
  "remote_series_id": "manga_456",
  "mode": "series",
  "latest_n": 5
}
```

### 10.3 æŸ¥è¯¢ä»»åŠ¡æ‘˜è¦
```bash
GET /api/manga/local/download-jobs/summary
```

**é¢„æœŸå“åº”**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "total": 15,
    "pending": 2,
    "running": 1,
    "success": 10,
    "failed": 2
  }
}
```

### 10.4 æŸ¥è¯¢ä»»åŠ¡åˆ—è¡¨
```bash
GET /api/manga/local/download-jobs?page=1&page_size=20&status=PENDING
```

**é¢„æœŸå“åº”**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "items": [
      {
        "id": 789,
        "user_id": 1,
        "source_id": 1,
        "source_name": "ExampleManga",
        "remote_series_id": "manga_456",
        "remote_series_title": "Example Manga Title",
        "target_series_id": 123,
        "mode": "CHAPTER",
        "status": "PENDING",
        "error_message": null,
        "created_at": "2024-01-01T12:00:00Z",
        "updated_at": "2024-01-01T12:00:00Z",
        "started_at": null,
        "completed_at": null,
        "progress": {
          "current": 0,
          "total": 25,
          "percentage": 0
        }
      }
    ],
    "total": 2,
    "page": 1,
    "page_size": 20,
    "has_next": false,
    "has_prev": false
  }
}
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.1  
**åˆ›å»ºæ—¥æœŸ**: 2024å¹´å½“å‰æ—¥æœŸ  
**æœ€åæ›´æ–°**: 2024å¹´å½“å‰æ—¥æœŸ  
**ä¸‹æ¬¡å®¡æŸ¥**: æŠ€æœ¯å€ºåŠ¡æ¸…ç†å®Œæˆå
