# 双宽带网络配置说明

## 🔧 问题说明

在双宽带网络环境下，如果服务只绑定到 `localhost`，可能无法通过所有网络接口访问。

## ✅ 已修复的配置

### 1. 前端服务配置
- ✅ 修改 `vite.config.ts`，添加 `host: '0.0.0.0'`
- ✅ 允许通过所有网络接口访问前端服务

### 2. 后端CORS配置
- ✅ 添加了多个本地IP地址到CORS允许列表
- ✅ 包括两个以太网适配器的IP地址

## 📋 访问地址

### 前端服务
可以通过以下任一地址访问：

1. **localhost**: http://localhost:5173
2. **127.0.0.1**: http://127.0.0.1:5173
3. **以太网1**: http://192.168.51.101:5173
4. **以太网2**: http://192.168.50.108:5173

### 后端服务
可以通过以下任一地址访问：

1. **localhost**: http://localhost:8000
2. **127.0.0.1**: http://127.0.0.1:8000
3. **以太网1**: http://192.168.51.101:8000
4. **以太网2**: http://192.168.50.108:8000

## 🚀 重新启动服务

### 1. 停止当前服务
如果服务正在运行，请先停止：
- 前端服务：在终端按 `Ctrl+C`
- 后端服务：在终端按 `Ctrl+C`

### 2. 重新启动后端服务
```bash
cd backend
python main.py
```

### 3. 重新启动前端服务
```bash
cd frontend
npm run dev
```

## 🔍 验证配置

### 检查前端服务
访问以下地址，应该都能打开：
- http://localhost:5173
- http://192.168.51.101:5173
- http://192.168.50.108:5173

### 检查后端服务
访问以下地址，应该都能打开：
- http://localhost:8000/health
- http://192.168.51.101:8000/health
- http://192.168.50.108:8000/health

## 🐛 如果仍然无法访问

### 问题1: 防火墙阻止
**解决**:
1. 检查Windows防火墙设置
2. 允许端口5173和8000通过防火墙
3. 或者临时关闭防火墙测试

### 问题2: 端口被占用
**解决**:
1. 检查端口是否被其他程序占用
2. 修改 `vite.config.ts` 中的端口号
3. 修改 `backend/app/core/config.py` 中的端口号

### 问题3: 网络路由问题
**解决**:
1. 检查网络路由配置
2. 确保两个网络接口都正常工作
3. 尝试使用 `localhost` 或 `127.0.0.1` 访问

## 📝 网络接口信息

根据系统检测，您的网络接口：

- **以太网适配器 以太网**: 192.168.51.101
- **以太网适配器 以太网 2**: 192.168.50.108

## 🎯 推荐访问方式

### 本地访问（推荐）
使用 `localhost` 或 `127.0.0.1`：
- 前端: http://localhost:5173
- 后端: http://localhost:8000

### 局域网访问
如果需要从其他设备访问，使用IP地址：
- 前端: http://192.168.51.101:5173 或 http://192.168.50.108:5173
- 后端: http://192.168.51.101:8000 或 http://192.168.50.108:8000

## ✅ 配置完成

配置已更新，请重新启动服务后测试。

如果仍有问题，请告诉我具体的错误信息。

